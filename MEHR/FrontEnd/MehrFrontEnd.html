<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>einfach M.E.H.R.</title>
</head>
<body onload="getLoc();">
<h1>einfach M.E.H.R.</h1>

<div style="width: 90%; overflow: hidden;">
    <div style="width: 600px; float: left;"> <h2>Suchen sie nach etwas Speziellen ? Verwenden sie die MEHR such funktion um es zu finden!</h2>
        <h3>Nutzen sie die Daten aller Restaurants/Inbisse in der Weltmetropole Mosbach!</h3>
        <p>Maximale entfernung in km</p>
        <input>
        <p>Maximaler Preis in Euros</p>
        <input>
        <p>Liefer Moeglichkeiten?</p>
        <input type="checkbox" id="delivery" name="delivery" value="deliver">
        
        <p>Ist es akut ? Aka. : Soll der allen offen haben oder ist es die Search fuer irgendwann anders</p>
        <input type="checkbox" id="isOpen" name="isOpen" value="open">
        <p>tragen sie einen Tag nach den sie Suchen(fuer alle Eintraege einfach leer lassen)</p>
        <input>
        <button onclick=" fillUL();">Search</button>
        <ul id = "MosbachSearchUL"></ul>
         </div>
    <div style="margin-left: 620px; width: 700px;">
        <h2>Keine Euros dabei um sich ne Leckere Mahlzeit zu besorgen ? Kein Problem wir zeigen ihnen den Aktuellen Geldwechselkurs</h2>
        Euro nach
        <h3>Geben sie die Menge ihrer Waehrung an</h3>
            <input id="currencyAmount">
            <h3>Waehlen sie ihre Waehrung aus</h3>
            <select name="SourceCurrency" id="SourceCurrency">
                <option value="USD">US-Dollar</option>
                <option value="GBP">Pfund Sterling</option>
                <option value="CHF">Schweizer Franken</option>
                <option value="JPY">Yen</option>
                <option value="IRR">Iranische Rial</option>
            </select>
          <button onclick=" calcCurrent();"> Berechne </button>
          <h3>Ergebnis :</h3>
        <p id = "currency_Result"> test</p> </div>
</div>

<div id = "uselessEasterEgg"></div>

<style>
    body {background-color: cornflowerblue; font-family: Verdana, Geneva, Tahoma, sans-serif; padding: 10px;}
    h1   {color: darkblue;}
    p    {color: red;}
    div {background-color: wheat; padding: 10px; border-radius: 10px;}

    #uselessEasterEgg{background-image: url("Sonic1_16Bit_Proto_GHZ_Chunk_3B.png");
        background-repeat: repeat-x;
    width: 100%; height: 256px; position : fixed; bottom: 0px; background-color: transparent; left: 0px; margin-bottom: -20px; pointer-events: none;}
    
    </style>
<script>
    var options = [
        set0 = ['Option 1', 'Option 2'],
        set1 = ['First Option', 'Second Option', 'Third Option']
    ];
    var pos;

    function getLoc() {
        const successCallback = (position) => {
            console.log(position);
            pos = position;
        };

        const errorCallback = (error) => {
            console.log(error);
            alert("du Schund du Schelm, du Horst du Hans wir brauchen deine Location um dir zu sagen wo der n√§chste Saftlagen ist.")
            window.location.href = "MehrMenu.html"
        };

        navigator.geolocation.getCurrentPosition(successCallback, errorCallback);
    }

    function calcCurrent() {
        var sourceC = document.getElementById("SourceCurrency").value;
        var amountC = document.getElementById("currencyAmount").value;

        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", "http://localhost:5249/ChangeToEuro"+"?value="+amountC+"&currency="+sourceC, true);
        xmlHttp.send(null);
        document.getElementById("currency_Result").value = xmlHttp.responseText;
    }

    function fillUL() {
    // Create the list element:
        var list = document.getElementById("MosbachSearchUL");


    // TO-DO make HTTP Call to get array
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", "http://localhost:5249/FoodFinderApi" + "?MaxDistanceInKM=" + amountC + "&MaxPriceInEuro=" + sourceC + "&AssociatedTags=" + sourceC + "&CurrentlyOpen=" + sourceC + "&IsDeleviring=" + sourceC + "&locLat=" + sourceC + "&locLong=" + sourceC, true);
        xmlHttp.send(null);
        document.getElementById("currency_Result").value = xmlHttp.responseText;


    for (var i = 0; i < array.length; i++) {
        // Create the list item:
        var item = document.createElement('li');

        // Set its contents:
        item.appendChild(document.createTextNode(array[i]));

        // Add it to the list:
        list.appendChild(item);
    }

    // Finally, return the constructed list:
    return list;
}
    </script>
    <noscript>Sorry, your browser does not support JavaScript!</noscript> 
</body>
</html>